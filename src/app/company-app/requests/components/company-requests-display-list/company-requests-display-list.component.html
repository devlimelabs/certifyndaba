<ul
  *ngIf="requests?.length; else noRequests"
  role="list"
  class="mt-5 pb-8 divide-y divide-gray-200 border-t border-gray-200 sm:mt-0 sm:border-t-0"
>
  <li
    *ngFor="let request of requests"
    class="hover:bg-blue-50 px-4"
  >
    <div
      class="group block cursor-pointer"
      [routerLink]="[request.id]"
    >
      <div class="flex items-center px-0 md:px-4 py-5 sm:px-0 sm:py-6">
        <div class="flex min-w-0 flex-1 items-center">
          <div class="hidden md:block md:flex-shrink-0">
            <img
              class="h-14 w-14 rounded-full bg-gray-100 p-1 group-hover:opacity-75"
              [src]="'https://api.dicebear.com/6.x/shapes/svg?seed=' + request?.candidateID"
              alt=""
            />
          </div>

          <div class="min-w-0 flex-1 px-0 md:px-4 md:grid md:grid-cols-2 md:gap-4">
            <div>
              <p class="truncate text-lg font-medium text-blue-600">
                {{ request?.candidate?.experienceLevel | certificationName }}
              </p>
              <div class="flex flex-nowrap mt-2">
                <p class="flex items-center text-sm text-gray-500 mr-2">
                  <svg
                    class="mr-1.5 h-5 w-5 flex-shrink-0 text-blue-400"
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M11.54 22.351l.07.04.028.016a.76.76 0 00.723 0l.028-.015.071-.041a16.975 16.975 0 001.144-.742 19.58 19.58 0 002.683-2.282c1.944-1.99 3.963-4.98 3.963-8.827a8.25 8.25 0 00-16.5 0c0 3.846 2.02 6.837 3.963 8.827a19.58 19.58 0 002.682 2.282 16.975 16.975 0 001.145.742zM12 13.5a3 3 0 100-6 3 3 0 000 6z"
                      clip-rule="evenodd"
                    />
                  </svg>

                  <span class="truncate">
                    Living in: {{ request?.candidate?.city }}, {{ request?.candidate?.state }}
                  </span>
                </p>
                <p class="flex items-center text-sm text-gray-500">
                  <svg
                    class="mr-1.5 w-6 h-6 text-blue-400"
                    xmlns="http://www.w3.org/2000/svg"
                    enable-background="new 0 0 24 24"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                  >
                    <g>
                      <rect
                        fill="none"
                        height="24"
                        width="24"
                      />
                      <path
                        d="M15.5,11.5c0,2-2.5,3.5-2.5,5h-2c0-1.5-2.5-3-2.5-5C8.5,9.57,10.07,8,12,8S15.5,9.57,15.5,11.5z M13,17.5h-2V19h2V17.5z M22,12c0-2.76-1.12-5.26-2.93-7.07l-1.06,1.06C19.55,7.53,20.5,9.66,20.5,12c0,2.34-0.95,4.47-2.49,6.01l1.06,1.06 C20.88,17.26,22,14.76,22,12z M3.5,12c0-2.34,0.95-4.47,2.49-6.01L4.93,4.93C3.12,6.74,2,9.24,2,12c0,2.76,1.12,5.26,2.93,7.07 l1.06-1.06C4.45,16.47,3.5,14.34,3.5,12z M17.5,12c0,1.52-0.62,2.89-1.61,3.89l1.06,1.06C18.22,15.68,19,13.93,19,12 c0-1.93-0.78-3.68-2.05-4.95l-1.06,1.06C16.88,9.11,17.5,10.48,17.5,12z M7.05,16.95l1.06-1.06c-1-1-1.61-2.37-1.61-3.89 c0-1.52,0.62-2.89,1.61-3.89L7.05,7.05C5.78,8.32,5,10.07,5,12C5,13.93,5.78,15.68,7.05,16.95z"
                      />
                    </g>
                  </svg>

                  <span class="truncate">Online {{ request?.candidate?.updatedAt | daysAgo }}</span>
                </p>
              </div>
            </div>
            <div class="block">
              <div class="flex flex-nowrap md:flex-wrap mt-2 md:mt-0">
                <p class="flex items-center text-sm text-gray-900 mr-2 md:mr-0 md:w-full">
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    fill="currentColor"
                    class="mr-1.5 w-6 h-6"
                  >
                    <path
                      fill-rule="evenodd"
                      d="M6.75 2.25A.75.75 0 017.5 3v1.5h9V3A.75.75 0 0118 3v1.5h.75a3 3 0 013 3v11.25a3 3 0 01-3 3H5.25a3 3 0 01-3-3V7.5a3 3 0 013-3H6V3a.75.75 0 01.75-.75zm13.5 9a1.5 1.5 0 00-1.5-1.5H5.25a1.5 1.5 0 00-1.5 1.5v7.5a1.5 1.5 0 001.5 1.5h13.5a1.5 1.5 0 001.5-1.5v-7.5z"
                      clip-rule="evenodd"
                    />
                  </svg>
                  <time datetime="2020-07-01T15:34:56">Sent On: {{ request.createdAt | date }}</time>
                </p>
                <p class="flex flex-row flex-wrap items-center text-sm text-black md:mt-2">
                  <b class="w-full">
                    {{ request?.title }}
                    <span class="font-normal text-gray-500">in {{ request?.city }}, {{ request?.state }}</span>
                  </b>
                  <span class="text-gray-500">{{ request?.description }}</span>
                </p>
              </div>
            </div>
          </div>
        </div>
        <div>
          <svg
            class="h-5 w-5 text-gray-400 group-hover:text-gray-700"
            viewBox="0 0 20 20"
            fill="currentColor"
            aria-hidden="true"
          >
            <path
              fill-rule="evenodd"
              d="M7.21 14.77a.75.75 0 01.02-1.06L11.168 10 7.23 6.29a.75.75 0 111.04-1.08l4.5 4.25a.75.75 0 010 1.08l-4.5 4.25a.75.75 0 01-1.06-.02z"
              clip-rule="evenodd"
            />
          </svg>
        </div>
      </div>
    </div>
  </li>
</ul>

<ng-template #noRequests>
  <div class="text-center my-12">
    <svg
      class="mx-auto h-12 w-12 text-gray-400"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 24 24"
      stroke-width="1.5"
      stroke="currentColor"
    >
      <path
        stroke-linecap="round"
        stroke-linejoin="round"
        d="M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 010 3.75H5.625a1.875 1.875 0 010-3.75z"
      />
    </svg>

    <h3 class="mt-2 text-sm font-semibold text-gray-900">No {{ type }} Requests</h3>

    <p class="mt-1 text-sm text-gray-500">
      You have not sent any connection requests yet. Head over to the
      <a routerLink="/app/company/search">Candidate Search Page</a>
      to find your next qualified ABA Therapist now!
    </p>
    <div class="mt-6">
      <button
        type="button"
        routerLink="/app/company/search"
        class="inline-flex items-center rounded-md !bg-blue-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:!bg-blue-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:!outline-blue-600"
      >
        <svg
          class="-ml-0.5 mr-1.5 h-5 w-5"
          viewBox="0 0 20 20"
          fill="currentColor"
          aria-hidden="true"
        >
          <path
            d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z"
          />
        </svg>
        Find Candidates
      </button>
    </div>
  </div>
</ng-template>
