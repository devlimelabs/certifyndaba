@if (loadingLogin()) {
  <div
    class="absolute flex flex-col flex-nowrap justify-center items-center w-full h-full top-0 left-0 bg-black/90 z-50"
  >
    <div class="flex flex-row flex-wrap justify-center items-center p-4">
      <div class="text-blue-400 text-4xl font-bold text-center w-full mb-16">Logging you in from email link...</div>
      <mat-spinner
        color="primary"
        diameter="100"
      ></mat-spinner>
    </div>
  </div>
}
<div
  id="container"
  class="flex min-h-full h-full flex-col justify-center py-4 sm:px-6 lg:px-8 overflow-y-auto"
>
  <!-- @if (!isDialog) {
    <div
      class="-z-0 fixed top-0 left-0 flex flex-row justify-center items-center w-full h-full opacity-20 bg-gradient-to-r from-sky-200 to-indigo-200"
    >
      <svg
        viewBox="214.816 115 120.368 150.7749"
        xmlns="http://www.w3.org/2000/svg"
        class="w-[780px] h-[780px]"
      >
        <g
          data-paper-data='{"isPathIcon":true}'
          id="element-id-6325"
        >
          <path
            d="M276.295,115c-1.766,0 -3.199,1.432 -3.199,3.199c0,1.767 1.433,3.199 3.199,3.199c1.767,0 3.199,-1.432 3.199,-3.199c0,-1.767 -1.432,-3.199 -3.199,-3.199zM262.76901,116.426c-2.399,0 -4.344,1.944 -4.344,4.343c0,2.399 1.945,4.344 4.344,4.344c2.399,0 4.344,-1.945 4.344,-4.344c0,-2.399 -1.945,-4.343 -4.344,-4.343zM286.42899,119.483c-3.567,0 -6.458,2.891 -6.458,6.457c0,3.567 2.891,6.458 6.458,6.458c3.566,0 6.457,-2.891 6.457,-6.458c0,-3.566 -2.891,-6.457 -6.457,-6.457zM246.55402,120.775c-1.673,0 -3.029,1.356 -3.029,3.028c0,1.673 1.356,3.029 3.029,3.029c1.672,0 3.028,-1.356 3.028,-3.029c0,-1.672 -1.356,-3.028 -3.028,-3.028zM255.88501,122.898c-1.585,0 -2.87,1.285 -2.87,2.87c0,1.585 1.285,2.87 2.87,2.87c1.585,0 2.87,-1.285 2.87,-2.87c0,-1.585 -1.285,-2.87 -2.87,-2.87zM250.20902,127.85799c-2.565,0 -4.644,2.079 -4.644,4.644c0,2.564 2.079,4.643 4.644,4.643c2.564,0 4.643,-2.079 4.643,-4.643c0,-2.565 -2.079,-4.644 -4.643,-4.644zM321.82697,129.28799c-1.632,0 -2.955,1.323 -2.955,2.956c0,1.632 1.323,2.956 2.955,2.956c1.633,0 2.956,-1.324 2.956,-2.956c0,-1.633 -1.323,-2.956 -2.956,-2.956zM238.47702,131.01199c-1.714,0 -3.104,1.39 -3.104,3.104c0,1.714 1.39,3.104 3.104,3.104c1.714,0 3.104,-1.39 3.104,-3.104c0,-1.714 -1.39,-3.104 -3.104,-3.104zM259.80901,132.49699c-2.377,0 -4.305,1.928 -4.305,4.305c0,2.378 1.928,4.305 4.305,4.305c2.378,0 4.305,-1.927 4.305,-4.305c0,-2.377 -1.927,-4.305 -4.305,-4.305zM230.68903,133.36299c-1.585,0 -2.87,1.285 -2.87,2.87c0,1.585 1.285,2.87 2.87,2.87c1.585,0 2.87,-1.285 2.87,-2.87c0,-1.585 -1.285,-2.87 -2.87,-2.87zM285.94999,133.68499c-3.608,0 -6.533,2.925 -6.533,6.533c0,3.609 2.925,6.534 6.533,6.534c3.609,0 6.534,-2.925 6.534,-6.534c0,-3.608 -2.925,-6.533 -6.534,-6.533zM236.92302,138.40399c-3.636,0 -6.584,2.948 -6.584,6.584c0,3.636 2.948,6.584 6.584,6.584c3.637,0 6.584,-2.948 6.584,-6.584c0,-3.636 -2.947,-6.584 -6.584,-6.584zM252.73401,140.14498c-3.655,0 -6.617,2.962 -6.617,6.617c0,3.655 2.962,6.617 6.617,6.617c3.655,0 6.618,-2.962 6.618,-6.617c0,-3.655 -2.963,-6.617 -6.618,-6.617zM272.42,140.63898c-2.377,0 -4.305,1.927 -4.305,4.305c0,2.378 1.928,4.305 4.305,4.305c2.378,0 4.305,-1.927 4.305,-4.305c0,-2.378 -1.927,-4.305 -4.305,-4.305zM224.58303,140.90398c-2.09,0 -3.784,1.694 -3.784,3.784c0,2.09 1.694,3.784 3.784,3.784c2.09,0 3.784,-1.694 3.784,-3.784c0,-2.09 -1.694,-3.784 -3.784,-3.784zM297.25699,143.41198c-3.594,0 -6.508,2.913 -6.508,6.508c0,3.594 2.914,6.508 6.508,6.508c3.594,0 6.508,-2.914 6.508,-6.508c0,-3.595 -2.914,-6.508 -6.508,-6.508zM264.22801,144.96098c-1.77,0 -3.204,1.434 -3.204,3.204c0,1.769 1.434,3.204 3.204,3.204c1.769,0 3.204,-1.435 3.204,-3.204c0,-1.77 -1.435,-3.204 -3.204,-3.204zM221.71203,150.39498c-2.786,0 -5.044,2.258 -5.044,5.044c0,2.786 2.258,5.044 5.044,5.044c2.785,0 5.044,-2.258 5.044,-5.044c0,-2.786 -2.259,-5.044 -5.044,-5.044zM331.94097,154.76998c-1.709,0 -3.095,1.386 -3.095,3.095c0,1.71 1.386,3.096 3.095,3.096c1.71,0 3.095,-1.386 3.095,-3.096c0,-1.709 -1.385,-3.095 -3.095,-3.095zM303.18998,155.92098c-1.585,0 -2.87,1.285 -2.87,2.87c0,1.585 1.285,2.87 2.87,2.87c1.585,0 2.87,-1.285 2.87,-2.87c0,-1.585 -1.285,-2.87 -2.87,-2.87zM248.79502,159.26097c-3.566,0 -6.458,2.891 -6.458,6.457c0,3.567 2.892,6.458 6.458,6.458c3.566,0 6.457,-2.891 6.457,-6.458c0,-3.566 -2.891,-6.457 -6.457,-6.457zM220.31803,161.68597c-2.377,0 -4.305,1.927 -4.305,4.305c0,2.377 1.928,4.305 4.305,4.305c2.378,0 4.305,-1.928 4.305,-4.305c0,-2.378 -1.927,-4.305 -4.305,-4.305zM307.17298,163.34897c-1.927,0 -3.49,1.562 -3.49,3.489c0,1.928 1.563,3.49 3.49,3.49c1.927,0 3.49,-1.562 3.49,-3.49c0,-1.927 -1.563,-3.489 -3.49,-3.489zM230.34303,173.16396c-1.585,0 -2.87,1.285 -2.87,2.87c0,1.585 1.285,2.87 2.87,2.87c1.585,0 2.87,-1.285 2.87,-2.87c0,-1.585 -1.285,-2.87 -2.87,-2.87zM248.58802,185.41396c-3.567,0 -6.458,2.891 -6.458,6.458c0,3.566 2.891,6.457 6.458,6.457c3.566,0 6.457,-2.891 6.457,-6.457c0,-3.566 -2.891,-6.458 -6.457,-6.458zM219.70203,193.37895c-2.699,0 -4.886,2.187 -4.886,4.885c0,2.698 2.187,4.886 4.886,4.886c2.698,0 4.885,-2.188 4.885,-4.886c0,-2.698 -2.187,-4.885 -4.885,-4.885zM250.91201,199.91695c-2.301,0 -4.166,1.865 -4.166,4.166c0,2.301 1.865,4.166 4.166,4.166c2.301,0 4.167,-1.865 4.167,-4.166c0,-2.301 -1.866,-4.166 -4.167,-4.166zM236.09502,204.66195c-3.681,0 -6.664,2.984 -6.664,6.664c0,3.681 2.983,6.664 6.664,6.664c3.68,0 6.664,-2.983 6.664,-6.664c0,-3.68 -2.984,-6.664 -6.664,-6.664zM223.74703,207.51194c-2.431,0 -4.403,1.971 -4.403,4.403c0,2.431 1.972,4.402 4.403,4.402c2.432,0 4.403,-1.971 4.403,-4.402c0,-2.432 -1.971,-4.403 -4.403,-4.403zM249.31702,210.61294c-3.566,0 -6.457,2.891 -6.457,6.457c0,3.567 2.891,6.458 6.457,6.458c3.567,0 6.458,-2.891 6.458,-6.458c0,-3.566 -2.891,-6.457 -6.458,-6.457zM221.37103,218.03894c-2.973,0 -5.383,2.41 -5.383,5.383c0,2.973 2.41,5.383 5.383,5.383c2.974,0 5.384,-2.41 5.384,-5.383c0,-2.973 -2.41,-5.383 -5.384,-5.383zM324.26097,219.26094c-1.585,0 -2.87,1.285 -2.87,2.87c0,1.585 1.285,2.87 2.87,2.87c1.585,0 2.87,-1.285 2.87,-2.87c0,-1.585 -1.285,-2.87 -2.87,-2.87zM317.05697,220.08494c-1.722,0 -3.119,1.397 -3.119,3.119c0,1.723 1.397,3.12 3.119,3.12c1.723,0 3.12,-1.397 3.12,-3.12c0,-1.722 -1.397,-3.119 -3.12,-3.119zM326.82997,225.99093c-3.566,0 -6.457,2.891 -6.457,6.458c0,3.566 2.891,6.457 6.457,6.457c3.566,0 6.457,-2.891 6.457,-6.457c0,-3.567 -2.891,-6.458 -6.457,-6.458zM273.144,230.58793c-2.049,0 -3.711,1.662 -3.711,3.711c0,2.05 1.662,3.712 3.711,3.712c2.05,0 3.712,-1.662 3.712,-3.712c0,-2.049 -1.662,-3.711 -3.712,-3.711zM224.72903,230.93493c-2.532,0 -4.584,2.053 -4.584,4.584c0,2.532 2.052,4.585 4.584,4.585c2.532,0 4.584,-2.053 4.584,-4.585c0,-2.531 -2.052,-4.584 -4.584,-4.584zM240.03102,234.29093c-3.679,0 -6.66,2.981 -6.66,6.659c0,3.678 2.981,6.66 6.66,6.66c3.678,0 6.659,-2.982 6.659,-6.66c0,-3.678 -2.981,-6.659 -6.659,-6.659zM265.86301,235.05193c-1.853,0 -3.355,1.502 -3.355,3.355c0,1.852 1.502,3.354 3.355,3.354c1.853,0 3.355,-1.502 3.355,-3.354c0,-1.853 -1.502,-3.355 -3.355,-3.355zM258.00201,239.84592c-1.992,0 -3.607,1.615 -3.607,3.607c0,1.992 1.615,3.606 3.607,3.606c1.992,0 3.606,-1.614 3.606,-3.606c0,-1.992 -1.614,-3.607 -3.606,-3.607zM322.00697,241.08992c-2.841,0 -5.144,2.303 -5.144,5.144c0,2.841 2.303,5.144 5.144,5.144c2.841,0 5.144,-2.303 5.144,-5.144c0,-2.841 -2.303,-5.144 -5.144,-5.144zM267.52,243.19392c-3.567,0 -6.458,2.891 -6.458,6.457c0,3.567 2.891,6.458 6.458,6.458c3.566,0 6.457,-2.891 6.457,-6.458c0,-3.566 -2.891,-6.457 -6.457,-6.457zM234.00802,247.08392c-1.613,0 -2.921,1.308 -2.921,2.921c0,1.613 1.308,2.92 2.921,2.92c1.613,0 2.92,-1.307 2.92,-2.92c0,-1.613 -1.307,-2.921 -2.92,-2.921zM289.44299,251.78492c-3.566,0 -6.457,2.891 -6.457,6.457c0,3.566 2.891,6.458 6.457,6.458c3.566,0 6.457,-2.892 6.457,-6.458c0,-3.566 -2.891,-6.457 -6.457,-6.457zM277.165,253.57492c-2.5,0 -4.526,2.027 -4.526,4.527c0,2.5 2.026,4.527 4.526,4.527c2.5,0 4.527,-2.027 4.527,-4.527c0,-2.5 -2.027,-4.527 -4.527,-4.527zM264.02101,257.13091c-2.388,0 -4.323,1.935 -4.323,4.322c0,2.387 1.935,4.322 4.323,4.322c2.387,0 4.322,-1.935 4.322,-4.322c0,-2.387 -1.935,-4.322 -4.322,-4.322z"
            id="element-id-54723"
            style="fill: rgb(79, 70, 229)"
          />
          <path
            d="M293.66999,129.81299c0,-3.955 3.205,-7.16 7.16,-7.16c3.954,0 7.16,3.205 7.16,7.16c0,3.954 -3.206,7.16 -7.16,7.16c-3.955,0 -7.16,-3.206 -7.16,-7.16zM265.29201,132.50099c0,-3.782 3.066,-6.848 6.847,-6.848c3.782,0 6.847,3.066 6.847,6.848c0,3.781 -3.065,6.847 -6.847,6.847c-3.781,0 -6.847,-3.066 -6.847,-6.847zM304.53998,141.22898c0,-4.224 3.424,-7.648 7.648,-7.648c4.223,0 7.648,3.424 7.648,7.648c0,4.224 -3.425,7.648 -7.648,7.648c-4.224,0 -7.648,-3.424 -7.648,-7.648zM321.23897,147.13298c0,-3.851 3.122,-6.972 6.972,-6.972c3.851,0 6.973,3.121 6.973,6.972c0,3.851 -3.122,6.973 -6.973,6.973c-3.85,0 -6.972,-3.122 -6.972,-6.973zM307.67398,157.37197c0,-4.124 3.343,-7.467 7.466,-7.467c4.124,0 7.467,3.343 7.467,7.467c0,4.123 -3.343,7.466 -7.467,7.466c-4.123,0 -7.466,-3.343 -7.466,-7.466zM228.12903,160.53097c0,-3.828 3.103,-6.93 6.93,-6.93c3.828,0 6.93,3.102 6.93,6.93c0,3.827 -3.102,6.929 -6.93,6.929c-3.827,0 -6.93,-3.102 -6.93,-6.929zM234.46702,178.98296c0,-3.856 3.125,-6.982 6.981,-6.982c3.856,0 6.982,3.126 6.982,6.982c0,3.855 -3.126,6.981 -6.982,6.981c-3.856,0 -6.981,-3.126 -6.981,-6.981zM215.41904,184.04596c0,-3.9 3.161,-7.061 7.061,-7.061c3.9,0 7.061,3.161 7.061,7.061c0,3.899 -3.161,7.061 -7.061,7.061c-3.9,0 -7.061,-3.162 -7.061,-7.061zM225.68803,195.95095c0,-4.23 3.429,-7.659 7.659,-7.659c4.23,0 7.659,3.429 7.659,7.659c0,4.23 -3.429,7.659 -7.659,7.659c-4.23,0 -7.659,-3.429 -7.659,-7.659zM298.22299,220.69294c0,-3.872 3.139,-7.011 7.011,-7.011c3.872,0 7.011,3.139 7.011,7.011c0,3.872 -3.139,7.011 -7.011,7.011c-3.872,0 -7.011,-3.139 -7.011,-7.011zM228.11403,226.50093c0,-3.995 3.239,-7.234 7.234,-7.234c3.995,0 7.234,3.239 7.234,7.234c0,3.995 -3.239,7.234 -7.234,7.234c-3.995,0 -7.234,-3.239 -7.234,-7.234zM247.29302,231.19393c0,-4.052 3.285,-7.337 7.337,-7.337c4.052,0 7.336,3.285 7.336,7.337c0,4.051 -3.284,7.336 -7.336,7.336c-4.052,0 -7.337,-3.285 -7.337,-7.336zM287.64899,236.11793c0,-4.391 3.56,-7.951 7.951,-7.951c4.391,0 7.951,3.56 7.951,7.951c0,4.392 -3.56,7.951 -7.951,7.951c-4.391,0 -7.951,-3.559 -7.951,-7.951zM305.47598,235.20493c0,-3.828 3.103,-6.931 6.931,-6.931c3.828,0 6.931,3.103 6.931,6.931c0,3.828 -3.103,6.931 -6.931,6.931c-3.828,0 -6.931,-3.103 -6.931,-6.931zM274.027,243.69892c0,-3.919 3.177,-7.096 7.095,-7.096c3.919,0 7.096,3.177 7.096,7.096c0,3.918 -3.177,7.095 -7.096,7.095c-3.918,0 -7.095,-3.177 -7.095,-7.095zM296.87499,253.12992c0,-4.785 3.879,-8.66399 8.66399,-8.66399c4.785,0 8.66399,3.879 8.66399,8.66399c0,4.785 -3.879,8.66399 -8.66399,8.66399c-4.785,0 -8.66399,-3.879 -8.66399,-8.66399zM243.90802,254.78192c0,-4.297 3.483,-7.78 7.779,-7.78c4.297,0 7.78,3.483 7.78,7.78c0,4.296 -3.483,7.779 -7.78,7.779c-4.296,0 -7.779,-3.483 -7.779,-7.779z"
            id="element-id-81015"
            style="fill: rgb(126, 34, 206)"
          />
        </g>
      </svg>
    </div>
  } -->
  <div class="mt-8 sm:mx-auto sm:w-full">
    @if (emailLinkSent) {
      <div class="flex flex-row flex-wrap justify-center items-center h-56 w-full">
        <h2 class="font-semibold text-2xl text-blue-800">Your login link has been emailed to:</h2>
        <h3 class="font-normal text-xl text-blue-800 w-full text-center">{{ emailCtrl?.value }}</h3>
        <p>Check your email to login and continue</p>
      </div>
    } @else {
      @if (!emailMissing) {
        <div class="flex flex-row flex-nowrap justify-center items-center cursor-pointer mx-4">
          <svg
            class="w-24 h-24"
            viewBox="214.816 115 120.368 150.7749"
            xmlns="http://www.w3.org/2000/svg"
          >
            <g
              data-paper-data='{"isPathIcon":true}'
              id="element-id-6325"
            >
              <path
                d="M276.295,115c-1.766,0 -3.199,1.432 -3.199,3.199c0,1.767 1.433,3.199 3.199,3.199c1.767,0 3.199,-1.432 3.199,-3.199c0,-1.767 -1.432,-3.199 -3.199,-3.199zM262.76901,116.426c-2.399,0 -4.344,1.944 -4.344,4.343c0,2.399 1.945,4.344 4.344,4.344c2.399,0 4.344,-1.945 4.344,-4.344c0,-2.399 -1.945,-4.343 -4.344,-4.343zM286.42899,119.483c-3.567,0 -6.458,2.891 -6.458,6.457c0,3.567 2.891,6.458 6.458,6.458c3.566,0 6.457,-2.891 6.457,-6.458c0,-3.566 -2.891,-6.457 -6.457,-6.457zM246.55402,120.775c-1.673,0 -3.029,1.356 -3.029,3.028c0,1.673 1.356,3.029 3.029,3.029c1.672,0 3.028,-1.356 3.028,-3.029c0,-1.672 -1.356,-3.028 -3.028,-3.028zM255.88501,122.898c-1.585,0 -2.87,1.285 -2.87,2.87c0,1.585 1.285,2.87 2.87,2.87c1.585,0 2.87,-1.285 2.87,-2.87c0,-1.585 -1.285,-2.87 -2.87,-2.87zM250.20902,127.85799c-2.565,0 -4.644,2.079 -4.644,4.644c0,2.564 2.079,4.643 4.644,4.643c2.564,0 4.643,-2.079 4.643,-4.643c0,-2.565 -2.079,-4.644 -4.643,-4.644zM321.82697,129.28799c-1.632,0 -2.955,1.323 -2.955,2.956c0,1.632 1.323,2.956 2.955,2.956c1.633,0 2.956,-1.324 2.956,-2.956c0,-1.633 -1.323,-2.956 -2.956,-2.956zM238.47702,131.01199c-1.714,0 -3.104,1.39 -3.104,3.104c0,1.714 1.39,3.104 3.104,3.104c1.714,0 3.104,-1.39 3.104,-3.104c0,-1.714 -1.39,-3.104 -3.104,-3.104zM259.80901,132.49699c-2.377,0 -4.305,1.928 -4.305,4.305c0,2.378 1.928,4.305 4.305,4.305c2.378,0 4.305,-1.927 4.305,-4.305c0,-2.377 -1.927,-4.305 -4.305,-4.305zM230.68903,133.36299c-1.585,0 -2.87,1.285 -2.87,2.87c0,1.585 1.285,2.87 2.87,2.87c1.585,0 2.87,-1.285 2.87,-2.87c0,-1.585 -1.285,-2.87 -2.87,-2.87zM285.94999,133.68499c-3.608,0 -6.533,2.925 -6.533,6.533c0,3.609 2.925,6.534 6.533,6.534c3.609,0 6.534,-2.925 6.534,-6.534c0,-3.608 -2.925,-6.533 -6.534,-6.533zM236.92302,138.40399c-3.636,0 -6.584,2.948 -6.584,6.584c0,3.636 2.948,6.584 6.584,6.584c3.637,0 6.584,-2.948 6.584,-6.584c0,-3.636 -2.947,-6.584 -6.584,-6.584zM252.73401,140.14498c-3.655,0 -6.617,2.962 -6.617,6.617c0,3.655 2.962,6.617 6.617,6.617c3.655,0 6.618,-2.962 6.618,-6.617c0,-3.655 -2.963,-6.617 -6.618,-6.617zM272.42,140.63898c-2.377,0 -4.305,1.927 -4.305,4.305c0,2.378 1.928,4.305 4.305,4.305c2.378,0 4.305,-1.927 4.305,-4.305c0,-2.378 -1.927,-4.305 -4.305,-4.305zM224.58303,140.90398c-2.09,0 -3.784,1.694 -3.784,3.784c0,2.09 1.694,3.784 3.784,3.784c2.09,0 3.784,-1.694 3.784,-3.784c0,-2.09 -1.694,-3.784 -3.784,-3.784zM297.25699,143.41198c-3.594,0 -6.508,2.913 -6.508,6.508c0,3.594 2.914,6.508 6.508,6.508c3.594,0 6.508,-2.914 6.508,-6.508c0,-3.595 -2.914,-6.508 -6.508,-6.508zM264.22801,144.96098c-1.77,0 -3.204,1.434 -3.204,3.204c0,1.769 1.434,3.204 3.204,3.204c1.769,0 3.204,-1.435 3.204,-3.204c0,-1.77 -1.435,-3.204 -3.204,-3.204zM221.71203,150.39498c-2.786,0 -5.044,2.258 -5.044,5.044c0,2.786 2.258,5.044 5.044,5.044c2.785,0 5.044,-2.258 5.044,-5.044c0,-2.786 -2.259,-5.044 -5.044,-5.044zM331.94097,154.76998c-1.709,0 -3.095,1.386 -3.095,3.095c0,1.71 1.386,3.096 3.095,3.096c1.71,0 3.095,-1.386 3.095,-3.096c0,-1.709 -1.385,-3.095 -3.095,-3.095zM303.18998,155.92098c-1.585,0 -2.87,1.285 -2.87,2.87c0,1.585 1.285,2.87 2.87,2.87c1.585,0 2.87,-1.285 2.87,-2.87c0,-1.585 -1.285,-2.87 -2.87,-2.87zM248.79502,159.26097c-3.566,0 -6.458,2.891 -6.458,6.457c0,3.567 2.892,6.458 6.458,6.458c3.566,0 6.457,-2.891 6.457,-6.458c0,-3.566 -2.891,-6.457 -6.457,-6.457zM220.31803,161.68597c-2.377,0 -4.305,1.927 -4.305,4.305c0,2.377 1.928,4.305 4.305,4.305c2.378,0 4.305,-1.928 4.305,-4.305c0,-2.378 -1.927,-4.305 -4.305,-4.305zM307.17298,163.34897c-1.927,0 -3.49,1.562 -3.49,3.489c0,1.928 1.563,3.49 3.49,3.49c1.927,0 3.49,-1.562 3.49,-3.49c0,-1.927 -1.563,-3.489 -3.49,-3.489zM230.34303,173.16396c-1.585,0 -2.87,1.285 -2.87,2.87c0,1.585 1.285,2.87 2.87,2.87c1.585,0 2.87,-1.285 2.87,-2.87c0,-1.585 -1.285,-2.87 -2.87,-2.87zM248.58802,185.41396c-3.567,0 -6.458,2.891 -6.458,6.458c0,3.566 2.891,6.457 6.458,6.457c3.566,0 6.457,-2.891 6.457,-6.457c0,-3.566 -2.891,-6.458 -6.457,-6.458zM219.70203,193.37895c-2.699,0 -4.886,2.187 -4.886,4.885c0,2.698 2.187,4.886 4.886,4.886c2.698,0 4.885,-2.188 4.885,-4.886c0,-2.698 -2.187,-4.885 -4.885,-4.885zM250.91201,199.91695c-2.301,0 -4.166,1.865 -4.166,4.166c0,2.301 1.865,4.166 4.166,4.166c2.301,0 4.167,-1.865 4.167,-4.166c0,-2.301 -1.866,-4.166 -4.167,-4.166zM236.09502,204.66195c-3.681,0 -6.664,2.984 -6.664,6.664c0,3.681 2.983,6.664 6.664,6.664c3.68,0 6.664,-2.983 6.664,-6.664c0,-3.68 -2.984,-6.664 -6.664,-6.664zM223.74703,207.51194c-2.431,0 -4.403,1.971 -4.403,4.403c0,2.431 1.972,4.402 4.403,4.402c2.432,0 4.403,-1.971 4.403,-4.402c0,-2.432 -1.971,-4.403 -4.403,-4.403zM249.31702,210.61294c-3.566,0 -6.457,2.891 -6.457,6.457c0,3.567 2.891,6.458 6.457,6.458c3.567,0 6.458,-2.891 6.458,-6.458c0,-3.566 -2.891,-6.457 -6.458,-6.457zM221.37103,218.03894c-2.973,0 -5.383,2.41 -5.383,5.383c0,2.973 2.41,5.383 5.383,5.383c2.974,0 5.384,-2.41 5.384,-5.383c0,-2.973 -2.41,-5.383 -5.384,-5.383zM324.26097,219.26094c-1.585,0 -2.87,1.285 -2.87,2.87c0,1.585 1.285,2.87 2.87,2.87c1.585,0 2.87,-1.285 2.87,-2.87c0,-1.585 -1.285,-2.87 -2.87,-2.87zM317.05697,220.08494c-1.722,0 -3.119,1.397 -3.119,3.119c0,1.723 1.397,3.12 3.119,3.12c1.723,0 3.12,-1.397 3.12,-3.12c0,-1.722 -1.397,-3.119 -3.12,-3.119zM326.82997,225.99093c-3.566,0 -6.457,2.891 -6.457,6.458c0,3.566 2.891,6.457 6.457,6.457c3.566,0 6.457,-2.891 6.457,-6.457c0,-3.567 -2.891,-6.458 -6.457,-6.458zM273.144,230.58793c-2.049,0 -3.711,1.662 -3.711,3.711c0,2.05 1.662,3.712 3.711,3.712c2.05,0 3.712,-1.662 3.712,-3.712c0,-2.049 -1.662,-3.711 -3.712,-3.711zM224.72903,230.93493c-2.532,0 -4.584,2.053 -4.584,4.584c0,2.532 2.052,4.585 4.584,4.585c2.532,0 4.584,-2.053 4.584,-4.585c0,-2.531 -2.052,-4.584 -4.584,-4.584zM240.03102,234.29093c-3.679,0 -6.66,2.981 -6.66,6.659c0,3.678 2.981,6.66 6.66,6.66c3.678,0 6.659,-2.982 6.659,-6.66c0,-3.678 -2.981,-6.659 -6.659,-6.659zM265.86301,235.05193c-1.853,0 -3.355,1.502 -3.355,3.355c0,1.852 1.502,3.354 3.355,3.354c1.853,0 3.355,-1.502 3.355,-3.354c0,-1.853 -1.502,-3.355 -3.355,-3.355zM258.00201,239.84592c-1.992,0 -3.607,1.615 -3.607,3.607c0,1.992 1.615,3.606 3.607,3.606c1.992,0 3.606,-1.614 3.606,-3.606c0,-1.992 -1.614,-3.607 -3.606,-3.607zM322.00697,241.08992c-2.841,0 -5.144,2.303 -5.144,5.144c0,2.841 2.303,5.144 5.144,5.144c2.841,0 5.144,-2.303 5.144,-5.144c0,-2.841 -2.303,-5.144 -5.144,-5.144zM267.52,243.19392c-3.567,0 -6.458,2.891 -6.458,6.457c0,3.567 2.891,6.458 6.458,6.458c3.566,0 6.457,-2.891 6.457,-6.458c0,-3.566 -2.891,-6.457 -6.457,-6.457zM234.00802,247.08392c-1.613,0 -2.921,1.308 -2.921,2.921c0,1.613 1.308,2.92 2.921,2.92c1.613,0 2.92,-1.307 2.92,-2.92c0,-1.613 -1.307,-2.921 -2.92,-2.921zM289.44299,251.78492c-3.566,0 -6.457,2.891 -6.457,6.457c0,3.566 2.891,6.458 6.457,6.458c3.566,0 6.457,-2.892 6.457,-6.458c0,-3.566 -2.891,-6.457 -6.457,-6.457zM277.165,253.57492c-2.5,0 -4.526,2.027 -4.526,4.527c0,2.5 2.026,4.527 4.526,4.527c2.5,0 4.527,-2.027 4.527,-4.527c0,-2.5 -2.027,-4.527 -4.527,-4.527zM264.02101,257.13091c-2.388,0 -4.323,1.935 -4.323,4.322c0,2.387 1.935,4.322 4.323,4.322c2.387,0 4.322,-1.935 4.322,-4.322c0,-2.387 -1.935,-4.322 -4.322,-4.322z"
                id="element-id-54723"
                style="fill: rgb(79, 70, 229)"
              />
              <path
                d="M293.66999,129.81299c0,-3.955 3.205,-7.16 7.16,-7.16c3.954,0 7.16,3.205 7.16,7.16c0,3.954 -3.206,7.16 -7.16,7.16c-3.955,0 -7.16,-3.206 -7.16,-7.16zM265.29201,132.50099c0,-3.782 3.066,-6.848 6.847,-6.848c3.782,0 6.847,3.066 6.847,6.848c0,3.781 -3.065,6.847 -6.847,6.847c-3.781,0 -6.847,-3.066 -6.847,-6.847zM304.53998,141.22898c0,-4.224 3.424,-7.648 7.648,-7.648c4.223,0 7.648,3.424 7.648,7.648c0,4.224 -3.425,7.648 -7.648,7.648c-4.224,0 -7.648,-3.424 -7.648,-7.648zM321.23897,147.13298c0,-3.851 3.122,-6.972 6.972,-6.972c3.851,0 6.973,3.121 6.973,6.972c0,3.851 -3.122,6.973 -6.973,6.973c-3.85,0 -6.972,-3.122 -6.972,-6.973zM307.67398,157.37197c0,-4.124 3.343,-7.467 7.466,-7.467c4.124,0 7.467,3.343 7.467,7.467c0,4.123 -3.343,7.466 -7.467,7.466c-4.123,0 -7.466,-3.343 -7.466,-7.466zM228.12903,160.53097c0,-3.828 3.103,-6.93 6.93,-6.93c3.828,0 6.93,3.102 6.93,6.93c0,3.827 -3.102,6.929 -6.93,6.929c-3.827,0 -6.93,-3.102 -6.93,-6.929zM234.46702,178.98296c0,-3.856 3.125,-6.982 6.981,-6.982c3.856,0 6.982,3.126 6.982,6.982c0,3.855 -3.126,6.981 -6.982,6.981c-3.856,0 -6.981,-3.126 -6.981,-6.981zM215.41904,184.04596c0,-3.9 3.161,-7.061 7.061,-7.061c3.9,0 7.061,3.161 7.061,7.061c0,3.899 -3.161,7.061 -7.061,7.061c-3.9,0 -7.061,-3.162 -7.061,-7.061zM225.68803,195.95095c0,-4.23 3.429,-7.659 7.659,-7.659c4.23,0 7.659,3.429 7.659,7.659c0,4.23 -3.429,7.659 -7.659,7.659c-4.23,0 -7.659,-3.429 -7.659,-7.659zM298.22299,220.69294c0,-3.872 3.139,-7.011 7.011,-7.011c3.872,0 7.011,3.139 7.011,7.011c0,3.872 -3.139,7.011 -7.011,7.011c-3.872,0 -7.011,-3.139 -7.011,-7.011zM228.11403,226.50093c0,-3.995 3.239,-7.234 7.234,-7.234c3.995,0 7.234,3.239 7.234,7.234c0,3.995 -3.239,7.234 -7.234,7.234c-3.995,0 -7.234,-3.239 -7.234,-7.234zM247.29302,231.19393c0,-4.052 3.285,-7.337 7.337,-7.337c4.052,0 7.336,3.285 7.336,7.337c0,4.051 -3.284,7.336 -7.336,7.336c-4.052,0 -7.337,-3.285 -7.337,-7.336zM287.64899,236.11793c0,-4.391 3.56,-7.951 7.951,-7.951c4.391,0 7.951,3.56 7.951,7.951c0,4.392 -3.56,7.951 -7.951,7.951c-4.391,0 -7.951,-3.559 -7.951,-7.951zM305.47598,235.20493c0,-3.828 3.103,-6.931 6.931,-6.931c3.828,0 6.931,3.103 6.931,6.931c0,3.828 -3.103,6.931 -6.931,6.931c-3.828,0 -6.931,-3.103 -6.931,-6.931zM274.027,243.69892c0,-3.919 3.177,-7.096 7.095,-7.096c3.919,0 7.096,3.177 7.096,7.096c0,3.918 -3.177,7.095 -7.096,7.095c-3.918,0 -7.095,-3.177 -7.095,-7.095zM296.87499,253.12992c0,-4.785 3.879,-8.66399 8.66399,-8.66399c4.785,0 8.66399,3.879 8.66399,8.66399c0,4.785 -3.879,8.66399 -8.66399,8.66399c-4.785,0 -8.66399,-3.879 -8.66399,-8.66399zM243.90802,254.78192c0,-4.297 3.483,-7.78 7.779,-7.78c4.297,0 7.78,3.483 7.78,7.78c0,4.296 -3.483,7.779 -7.78,7.779c-4.296,0 -7.779,-3.483 -7.779,-7.779z"
                id="element-id-81015"
                style="fill: rgb(126, 34, 206)"
              />
            </g>
          </svg>
        </div>
        <h2
          class="mt-16 mb-12 md:mb-16 text-center text-4xl font-medium tracking-tight text-blue-800 px-8"
          [class.md:mb-12]="authStore.authAccountLink()"
        >
          @if (authStore.loginMessage()) {
            {{ authStore.loginMessage() }}
          } @else if (redirect) {
            You must be logged in to continue
          } @else {
            Sign In or Sign Up
          }
        </h2>
        @if (authStore.authAccountLink()) {
          <div class="flex flex-row flex-nowrap justify-center items-center md:mb-20">
            <p class="max-w-screen-sm text-center text-lg font-thin tracking-tight text-gray-800">
              It looks like you're trying to sign in with a provider associated with an email that already exists in our
              system.
              <br />
              <span class="font-normal text-blue-700">
                Please log in with your original provider to link your accounts:
              </span>
            </p>
          </div>
        }
        <div
          class="flex flex-row flex-wrap justify-center items-center mb-8 md:mb-16"
          [class.md:mb-12]="authStore.authAccountLink()"
        >
          @if (!isGoogleLink()) {
            <app-google-auth-button
              [authType]="authType()"
              class="flex flex-row flex-nowrap justify-center items-center h-12 w-full mt-2 mb-1"
            ></app-google-auth-button>
          }

          @if (!isFacebookLink()) {
            <app-facebook-auth-button
              [authType]="authType()"
              class="flex flex-row flex-nowrap justify-center items-center h-12 w-full mt-1 mb-2"
            ></app-facebook-auth-button>
          }
        </div>

        @if (!isEmailLink()) {
          <div class="relative mt-6">
            <div
              class="absolute inset-0 flex justify-center items-center"
              aria-hidden="true"
            >
              <div class="w-full border-t border-b-blue-800 max-w-xs sm:max-w-sm md:max-w-md lg:max-w-lg"></div>
            </div>
            <div class="relative flex justify-center text-sm">
              <span class="bg-transparent px-2 text-black text-xl font-bold">OR</span>
            </div>
          </div>
        }
      }

      @if (!isEmailLink()) {
        <div class="flex flex-row flex-wrap justify-center mt-6 px-4 w-full">
          <div class="w-full max-w-md">
            <form [formGroup]="emailLoginForm">
              <mat-form-field
                class="w-full"
                color="accent"
              >
                <mat-label for="email">
                  {{ emailMissing ? 'Confirm The Login ' : '' }}
                  Email address
                </mat-label>
                <input
                  matInput
                  id="email"
                  name="email"
                  title="name"
                  type="email"
                  autocomplete="email"
                  formControlName="email"
                  required
                />
                @if (emailCtrl?.hasError('email') && !emailCtrl?.hasError('required')) {
                  <mat-error>Please enter a valid email address</mat-error>
                }
                @if (emailCtrl?.hasError('required')) {
                  <mat-error>
                    Email is
                    <strong>required</strong>
                  </mat-error>
                }
              </mat-form-field>

              <div class="flex items-center justify-between -mt-2 mb-4">
                <div class="flex items-center">
                  <mat-checkbox
                    formControlName="rememberMe"
                    color="accent"
                  >
                    Remember Me
                  </mat-checkbox>
                </div>
              </div>

              <div>
                @if (emailMissing) {
                  <button
                    type="submit"
                    class="w-full"
                    mat-raised-button
                    color="accent"
                    (click)="signInWithEmailLink(emailCtrl?.value)"
                  >
                    Complete Sign in
                  </button>
                } @else if (authStore.authAccountLink()) {
                  <button
                    type="submit"
                    class="w-full"
                    mat-raised-button
                    color="accent"
                    (click)="signInWithEmailLink(emailCtrl?.value)"
                  >
                    Link Account
                  </button>
                } @else {
                  <button
                    type="submit"
                    class="w-full !bg-blue-800 !text-white"
                    mat-raised-button
                    (click)="getEmailLink()"
                  >
                    Send Login Link
                  </button>
                }
              </div>
            </form>
          </div>
        </div>
      }
    }
  </div>
</div>
